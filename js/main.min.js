var champions,picked_champions=[],HP=2.67,HP_REGEN=36,MANA=1.4,MANA_REGEN=60,ATTACK_DAMAGE=35,ATTACK_SPEED=25,ARMOR=20,MAGIC_RESIST=18,isCheckedHP=!0,isCheckedHPregen=!0,isCheckedMP=!0,isCheckedMPregen=!0,isCheckedAD=!0,isCheckedAS=!0,isCheckedArmor=!0,isCheckedMagicResist=!0,champs_with_bonus_as_lvl1={Amumu:15.3,Caitlyn:10,DrMundo:15.3,Ekko:10,Gnar:5.5,Gragas:8,Kayle:10,Lux:7,Malphite:15,Maokai:15.3,MasterYi:8,Nautilus:15,Nocturne:8,Pantheon:8,Shen:15,Wukong:8,Yasuo:4,Zac:15};function getChampionStats(e){var o="https://ddragon.leagueoflegends.com/cdn/"+e+"/data/en_US/champion.json";$.ajax({url:o,type:"GET",dataType:"json",error:function(e,o,n){alert("Unable to get latest champion details."),console.log("jqXHR:"),console.log(e),console.log("textStatus:"),console.log(o),console.log("errorThrown:"),console.log(n)},success:function(e,o,n){champions=e.data;var t=document.getElementById("ChampionList"),a=document.createDocumentFragment();for(var r in champions){var i=document.createElement("option");i.innerHTML=champions[r].name,i.value=r,a.appendChild(i)}t.appendChild(a)},complete:function(e){$("#ChampionList").chosen({width:"100%"})}})}function championSelected(){addToChart(document.getElementById("ChampionList").value)}function addToChart(e){var o=document.getElementById("ChampionListAlert");-1<picked_champions.indexOf(e)?o.innerHTML=champions[e].name+" has already been added.":8<=picked_champions.length?o.innerHTML="Only 8 champions can be compared at a time.":(o.innerHTML="",document.getElementById("clearbutton").disabled=!1,generateChart(e),picked_champions.push(e))}function generateChart(e){var o=champions[e].stats,n=window.chartColors.map(function(e){return e.picked}).indexOf(!1),t=window.chartColors[n].value;window.chartColors[n].picked=!0;var a={label:champions[e].name,backgroundColor:t,borderColor:t,data:[],fill:!1,pointBackgroundColor:"#2f3940",pointBorderColor:t,pointRadius:4,pointBorderWidth:3};config.data.datasets.push(a);for(var r=champs_with_bonus_as_lvl1.hasOwnProperty(e)?champs_with_bonus_as_lvl1[e]:0,i=0;i<18;i++){var c=0;isCheckedHP&&(c+=(o.hp+o.hpperlevel*i)*HP),isCheckedHPregen&&(c+=(o.hpregen+o.hpregenperlevel*i)*HP_REGEN),isCheckedMP&&(c+=(o.mp+o.mpperlevel*i)*MANA),isCheckedMPregen&&(c+=(o.mpregen+o.mpregenperlevel*i)*MANA_REGEN),isCheckedAD&&(c+=(o.attackdamage+o.attackdamageperlevel*i)*ATTACK_DAMAGE),isCheckedAS&&(c+=(r+o.attackspeedperlevel*i)*ATTACK_SPEED),isCheckedArmor&&(c+=(o.armor+o.armorperlevel*i)*ARMOR),isCheckedMagicResist&&(c+=(o.spellblock+o.spellblockperlevel*i)*MAGIC_RESIST),a.data.push(Math.round(c))}window.myLine.update()}function checkboxOnChange(e){e.checked?updateChecked(e.id,!0):updateChecked(e.id,!1)}function updateChecked(e,o){switch(e){case"customCheckHP":isCheckedHP=o;break;case"customCheckHPRegen":isCheckedHPregen=o;break;case"customCheckMP":isCheckedMP=o;break;case"customCheckMPRegen":isCheckedMPregen=o;break;case"customCheckAD":isCheckedAD=o;break;case"customCheckAS":isCheckedAS=o;break;case"customCheckArmor":isCheckedArmor=o;break;case"customCheckMagicResist":isCheckedMagicResist=o}for(var n in clearGraph(),picked_champions)generateChart(picked_champions[n])}function clearButton(){clearGraph(),picked_champions.splice(0,picked_champions.length),document.getElementById("clearbutton").disabled=!0}function clearGraph(){window.myLine.data.datasets.splice(0,window.myLine.data.datasets.length),window.myLine.update(),window.chartColors.forEach(function(e){e.picked=!1})}function nthIndex(e,o,n){for(var t=e.length,a=-1;n--&&a++<t&&!((a=e.indexOf(o,a))<0););return a}window.chartColors=[{value:"rgb(252, 92, 101)",picked:!1},{value:"rgb(253, 150, 68)",picked:!1},{value:"rgb(38, 222, 129)",picked:!1},{value:"rgb(15, 185, 177)",picked:!1},{value:"rgb(69, 170, 242)",picked:!1},{value:"rgb(75, 123, 236)",picked:!1},{value:"rgb(153, 102, 255)",picked:!1},{value:"rgb(113, 128, 147)",picked:!1}];var version_url="https://ddragon.leagueoflegends.com/api/versions.json";$.ajax({url:version_url,type:"GET",dataType:"json",error:function(e,o,n){alert("Unable to get the latest LoL patch version. "),console.log("jqXHR:"),console.log(e),console.log("textStatus:"),console.log(o),console.log("errorThrown:"),console.log(n)},success:function(e,o,n){var t=e[0],a=document.getElementById("patchversion"),r=nthIndex(t,".",2);a.innerHTML="Patch "+t.substring(0,r),getChampionStats(t)}});var config={type:"line",data:{labels:["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18"]},options:{responsive:!0,title:{display:!0,text:"Champion Stat's Gold Value Per Level",fontColor:"rgb(245, 246, 250)"},tooltips:{mode:"index",intersect:!1,backgroundColor:"rgba(30, 39, 46,0.9)",titleMarginBottom:10,xPadding:10,yPadding:10,itemSort:function(e,o,n){return o.yLabel-e.yLabel},callbacks:{title:function(e,o){return"Level "+e[0].xLabel},labelColor:function(e,o){return{backgroundColor:o.legend.legendItems[e.datasetIndex].fillStyle,borderColor:o.legend.legendItems[e.datasetIndex].fillStyle}}}},hover:{mode:"nearest",intersect:!0,onHover:function(e){this.getElementAtEvent(e).length?e.target.style.cursor="pointer":e.target.style.cursor="default"}},legend:{labels:{fontColor:"rgb(245, 246, 250)",backgroundColor:"#FFFF00",boxWidth:30},onClick:function(e,o){var n=o.text;if(-1<n.indexOf("'")){var t=n.split("'");t[1]=t[1].toLowerCase(),n=t.join()}n=n.replace(/[\s|,|.]+/g,"");var a=picked_champions.indexOf(n);picked_champions.splice(a,1),0==picked_champions.length&&(document.getElementById("clearbutton").disabled=!0);var r=window.chartColors.map(function(e){return e.value}).indexOf(o.fillStyle);window.chartColors[r].picked=!1;var i=o.datasetIndex,c=this.chart;c.data.datasets.splice(i,1),c.update()},onHover:function(e){e.target.style.cursor="pointer"}},scales:{xAxes:[{display:!0,gridLines:{zeroLineColor:"#666",color:"rgb(53, 59, 72)"},ticks:{fontColor:"rgb(245, 246, 250)"},scaleLabel:{display:!0,labelString:"Level",fontColor:"rgb(245, 246, 250)",fontSize:14}}],yAxes:[{display:!0,gridLines:{zeroLineColor:"#666",color:"rgb(53, 59, 72)"},ticks:{fontColor:"rgb(245, 246, 250)",min:0},scaleLabel:{display:!0,labelString:"Gold Value",fontColor:"rgb(245, 246, 250)",fontSize:14}}]},layout:{padding:{left:20,right:40,top:30,bottom:30}},maintainAspectRatio:!1}};window.onload=function(){var e=document.getElementById("canvas").getContext("2d");window.myLine=new Chart(e,config)};
